# üìä –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –ø–æ –≤–∞—à–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

### ‚úÖ 1. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `user_first_visit` - –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `user_return_visit` - –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `user_session_start` - –ù–∞—á–∞–ª–æ —Å–µ—Å—Å–∏–∏
- `user_session_end` - –ö–æ–Ω–µ—Ü —Å–µ—Å—Å–∏–∏

### ‚úÖ 2. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `user_identified` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω (ID + username)
- `user_profile_updated` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

### ‚úÖ 3. –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
- `command_used` - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã (/start, /search, /reset)
- `command_success` - –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
- `command_error` - –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã

### ‚úÖ 4. –ö–ª–∏–∫–∏ –ø–æ –∫–Ω–æ–ø–∫–∞–º
- `button_click` - **–í–°–ï** –∫–ª–∏–∫–∏ –ø–æ –∫–Ω–æ–ø–∫–∞–º —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

### ‚úÖ 5. –û—à–∏–±–∫–∏
- `error` - **–í–°–ï** –æ—à–∏–±–∫–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏
- `api_error` - –û—à–∏–±–∫–∏ API
- `parse_error` - –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- `database_error` - –û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ 6. API –æ—Ç–≤–µ—Ç—ã
- `api_call` - **–í–°–ï** –≤—ã–∑–æ–≤—ã API —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- `flight_api_response` - –û—Ç–≤–µ—Ç—ã API —Ä–µ–π—Å–æ–≤
- `subscription_api_response` - –û—Ç–≤–µ—Ç—ã API –ø–æ–¥–ø–∏—Å–æ–∫

### ‚úÖ 7. –ü–æ–¥–ø–∏—Å–∫–∏ (–µ—Å–ª–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã)
- `subscription` - –ü–æ–¥–ø–∏—Å–∫–∞/–æ—Ç–ø–∏—Å–∫–∞
- `subscription_created` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- `subscription_deleted` - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- `notification_sent` - –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

### –ü–æ–∏—Å–∫ —Ä–µ–π—Å–æ–≤
- `flight_search` - –ü–æ–∏—Å–∫ —Ä–µ–π—Å–∞
- `flight_search_started` - –ù–∞—á–∞–ª–æ –ø–æ–∏—Å–∫–∞
- `flight_search_completed` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞
- `flight_found` - –†–µ–π—Å –Ω–∞–π–¥–µ–Ω
- `flight_not_found` - –†–µ–π—Å –Ω–µ –Ω–∞–π–¥–µ–Ω

### –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
- `message_received` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- `text_message_received` - –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `navigation_step` - –®–∞–≥–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- `flow_completed` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- `api_response_time` - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API
- `bot_response_time` - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞
- `high_load_detected` - –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞

### –ö–æ–Ω–≤–µ—Ä—Å–∏—è –∏ –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å
- `conversion` - –¶–µ–ª–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- `user_engagement` - –í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `feature_used` - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π

## üìä –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

### –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
1. **DAU/WAU** - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ/–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
2. **Retention Rate** - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É–¥–µ—Ä–∂–∞–Ω–∏—è
3. **Session Duration** - –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
1. **Response Time** - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API
2. **Error Rate** - –ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫
3. **Success Rate** - –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤

### –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏
1. **Search Volume** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–æ–≤
2. **Popular Flights** - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ–π—Å—ã
3. **Subscription Rate** - –ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ–¥–ø–∏—Å–æ–∫
4. **User Engagement** - –í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å

## üé® –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞
```python
await analytics.track_user_session(
    user_id=message.from_user.id,
    username=message.from_user.username,
    is_first_time=True
)
```

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
```python
await analytics.track_button_click(
    user_id=callback.from_user.id,
    button_name="subscribe",
    button_context={"flight_number": "SU100"}
)
```

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
```python
await analytics.track_error(
    user_id=user_id,
    error_type="api_timeout",
    error_message="API timeout after 30 seconds"
)
```

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ API –æ—Ç–≤–µ—Ç–æ–≤
```python
await analytics.track_api_call(
    user_id=user_id,
    api_name="flight_api",
    success=True,
    response_time=2.5
)
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- [ ] `user_first_visit` / `user_return_visit`
- [ ] `button_click` (–≤—Å–µ –∫–Ω–æ–ø–∫–∏)
- [ ] `error` (–≤—Å–µ –æ—à–∏–±–∫–∏)
- [ ] `api_call` (–≤—Å–µ API)
- [ ] `command_used` (–≤—Å–µ –∫–æ–º–∞–Ω–¥—ã)

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- [ ] `flight_search` (–ø–æ–∏—Å–∫ —Ä–µ–π—Å–æ–≤)
- [ ] `subscription` (–ø–æ–¥–ø–∏—Å–∫–∏)
- [ ] `notification_sent` (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- [ ] `user_engagement` (–≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å)

### –ú–µ—Ç—Ä–∏–∫–∏
- [ ] DAU/WAU –¥–∞—à–±–æ—Ä–¥
- [ ] Error rate –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] Response time –≥—Ä–∞—Ñ–∏–∫–∏
- [ ] Conversion funnel

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Amplitude** (—Å–º. `QUICK_START_AMPLITUDE.md`)
2. **–î–æ–±–∞–≤—å—Ç–µ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏**:
   ```python
   await analytics.track_user_session(user_id, username, is_first_time)
   await analytics.track_button_click(user_id, button_name, context)
   await analytics.track_error(user_id, error_type, error_message)
   ```
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ**: `python test_amplitude.py`
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–∞—à–±–æ—Ä–¥—ã** –≤ Amplitude

---

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –∏ –±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫! üéâ 